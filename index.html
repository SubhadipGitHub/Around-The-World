<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Around The Globe - A Travel Memory Book</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="particles-container"></div>
    <div id="weather-animation"></div>
    <div id="preloader">
        <div class="pulsating-marker"></div>
        <div class="loading-text">Pinpointing Adventures...</div>
</div>

<!-- Walking GIF Animation (above the <hr>) -->
<div id="walk-anim-container">
    <img src="images/walk-anim.gif" alt="Walking animation" id="walk-anim-gif">
</div>
    <header>
        <h1>Around The Globe</h1>
        <p>My Travel Memory Book</p>
    </header>
    <!-- Animated Travel Quote -->
    <div class="travel-quote-animated">
      <i class="fas fa-quote-left"></i>
      <span id="animated-quote-text"></span>
      <i class="fas fa-quote-right"></i>
    </div>
    <hr id="decor-hr">
    <!-- Ground background below decor-hr -->
    <div id="ground-bg"></div>
    <!-- Navigation Tabs -->
    <div class="nav-tabs">
        <button id="map-tab" class="nav-tab active">Map View</button>
        <button id="timeline-tab" class="nav-tab">Activity Timeline</button>
    </div>

    <!-- Main Content Area -->
    <div id="map-view-container">

        <div id="map"></div>

        <div class="container">
            <section id="memories">
                <h2 class="section-title"><i class="fas fa-suitcase-rolling"></i> My Travel Memories <i class="fas fa-chevron-down"></i></h2>
                <div class="search-container">
                    <input type="text" id="memories-search" placeholder="Search memories by name...">
                </div>
                <div class="card-container" id="memories-container"></div>
            </section>
            <section id="wishlist">
                <h2 class="section-title"><i class="fas fa-map-pin"></i> My Travel Wishlist <i class="fas fa-chevron-down"></i></h2>
                <div class="search-container">
                    <input type="text" id="wishlist-search" placeholder="Search wishlist by name...">
                </div>
                <div class="card-container" id="wishlist-container"></div>
            </section>
            <section id="people">
                <h2 class="section-title"><i class="fas fa-user-friends"></i> Friends & Relations <i class="fas fa-chevron-down"></i></h2>
                <div class="search-container">
                    <input type="text" id="people-search" placeholder="Search people by name...">
                </div>
                <div class="card-container" id="people-container"></div>
            </section>
        </div>
    </div>

    <div id="timeline-view-container" style="display: none;">
        <div class="timeline-header">
            <h2><i class="fas fa-route"></i> My Travel Timeline</h2>
            <button id="play-timeline-animation">▶️ Replay</button>
        </div>
        <div id="timeline-content">
            <!-- The map will be moved here by the script -->
            <div id="timeline-list"></div>
        </div>
    </div>


    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="script.js"></script>
    <script>
    // Highlight effect for people cards
    document.addEventListener('DOMContentLoaded', function() {
        const peopleContainer = document.getElementById('people-container');
        if (!peopleContainer) return;
        // Use event delegation for dynamic cards
        peopleContainer.addEventListener('mouseover', function(e) {
            const card = e.target.closest('.people-card');
            if (card) {
                card.classList.add('highlighted');
            }
        });
        peopleContainer.addEventListener('mouseout', function(e) {
            const card = e.target.closest('.people-card');
            if (card) {
                card.classList.remove('highlighted');
            }
        });
        // Optional: click to keep highlighted until another is clicked
        peopleContainer.addEventListener('click', function(e) {
            const card = e.target.closest('.people-card');
            if (!card) return;
            // Remove highlight from all
            peopleContainer.querySelectorAll('.people-card.highlighted').forEach(c => {
                if (c !== card) c.classList.remove('highlighted');
            });
            // Toggle highlight on clicked card
            card.classList.toggle('highlighted');
        });
    });
    </script>

    <!-- Memory Modal -->
    <div id="memory-modal" class="modal">
        <div class="modal-content memory-modal-content">
            <span class="close-memory-modal">&times;</span>
            <img id="memory-modal-img" src="" alt="Memory Image">
            <h2 id="memory-modal-title"></h2>
            <p id="memory-modal-note"></p>
            <a id="memory-modal-itinerary" href="#" target="_blank" style="display:none;">View Itinerary</a>
        </div>
    </div>

    <!-- Help Button -->
    <div id="help-button">?</div>

    <!-- Help Modal -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>How to Use This Site</h2>
            <p><strong>Expand/Collapse Sections:</strong> Click on the section titles (e.g., "My Travel Memories") to show or hide the cards.</p>
            <p><strong>Search:</strong> Use the search bar within each section to filter cards by name.</p>
            <p><strong>Interactive Map:</strong> Click on any card in any section to automatically zoom to that location on the map.</p>
            <hr>
            <p><strong>Map Markers:</strong></p>
            <ul>
                <li><i class="fas fa-map-marker-alt" style="color: #03f;"></i> &nbsp;<strong>Blue Markers:</strong> Your travel memories.</li>
                <li><i class="fas fa-star" style="color: gold;"></i> &nbsp;<strong>Gold Markers:</strong> Your travel wishlist.</li>
                <li><i class="fas fa-user-friends" style="color: dodgerblue;"></i> &nbsp;<strong>Colored Icons:</strong> Your friends and family.</li>
                <br>
                <li><strong>Numbered Circles:</strong> These are clusters of markers. Click them to zoom in and see individual locations.</li>
            </ul>
        </div>
    </div>
<style>

html, body {
    overflow-x: hidden;
}

.travel-quote {
    text-align: center;
    font-family: 'Pacifico', cursive;
    font-size: 1.5rem;
    color: #388e3c;
    margin: 24px 0 0 0;
    padding: 0 16px;
    line-height: 1.4;
    letter-spacing: 0.5px;
    text-shadow: 0 2px 8px rgba(56,142,60,0.08);
    position: relative;
    z-index: 10;
}
.travel-quote i {
    color: #4a90e2;
    margin: 0 8px;
    font-size: 1.2em;
    vertical-align: middle;
}
/* Decorative horizontal GIF for <hr> */
/* Decorative horizontal GIF for <hr> */
#decor-hr {
    border: none;
    height: 104px;
    background: url('https://i.pinimg.com/originals/01/2e/95/012e95baadc894f8dbf4fc1e5be40519.gif') repeat-x center;
    background-size: auto 104px;
    position: relative;
    width: 100vw;
    min-width: 100vw;
    left: 50%;
    transform: translateX(-50%);
    margin: 0;
    z-index: 3;
}
/* Walking GIF animation styles */
#walk-anim-container {
    position: absolute;
    left: 0;
    /* The top will be set dynamically to match the <hr> position */
    width: 240px;
    height: 200px;
    z-index: 1002;
    pointer-events: none;
    animation: walk-move 28s linear infinite;
    /* Prevent container from affecting page width */
    max-width: 100vw;
    animation-play-state: paused;
}
#walk-anim-gif {
    width: 100%;
    height: auto;
    display: block;
}
@keyframes walk-move {
    0% { left: -240px; }
    100% { left: 100vw; }
}

/* Position the walking animation to walk on the <hr> */
body { position: relative; }

/* Dynamically set the top of #walk-anim-container to match the <hr> */
/* Ground background below decor-hr */
#ground-bg {
    position: absolute;
    left: 0;
    width: 100vw;
    min-width: 100vw;
    background: url('https://static.vecteezy.com/system/resources/previews/059/209/500/non_2x/seamless-cartoon-game-ground-texture-forming-a-repeating-pattern-representing-a-stylized-surface-with-cracks-rocks-and-dirt-suitable-for-game-level-design-or-background-vector.jpg') repeat bottom;
    background-size: auto 180px; /* tile horizontally, control vertical size */
    z-index: -1;
    pointer-events: none;
    height: 0; /* will be set by JS */
}
#decor-hr {
    z-index: 3;
    position: relative;
    width: 100%;
}
/* Animated Travel Quote Styles */
.travel-quote-animated {
  text-align: center;
  font-family: 'Pacifico', cursive;
  font-size: 1.7rem;
  color: #388e3c;
  margin: 32px 0 0 0;
  padding: 0 16px;
  line-height: 1.4;
  letter-spacing: 0.5px;
  text-shadow: 0 2px 8px rgba(56,142,60,0.12);
  position: relative;
  z-index: 10;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
}
.travel-quote-animated i {
  color: #4a90e2;
  font-size: 1.3em;
  animation: quote-bounce 2.5s infinite alternate;
}
#animated-quote-text {
  display: inline-block;
  background: linear-gradient(90deg, #e0eafc 0%, #cfdef3 100%);
  padding: 10px 24px;
  border-radius: 32px;
  box-shadow: 0 4px 24px rgba(74,144,226,0.08);
  animation: travel-wave 5s infinite alternate;
}
@keyframes travel-wave {
  0% { transform: scale(1) rotate(-1deg);}
  50% { transform: scale(1.04) rotate(1deg);}
  100% { transform: scale(1) rotate(-1deg);}
}
@keyframes quote-bounce {
  0% { transform: translateY(0);}
  100% { transform: translateY(-8px);}
}

/* Music Toggle Button */
#music-toggle {
  position: fixed;
  bottom: 90px;
  right: 30px;
  z-index: 2000;
  background: #4a90e2;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 48px;
  height: 48px;
  font-size: 1.5rem;
  box-shadow: 0 4px 16px rgba(74,144,226,0.18);
  cursor: pointer;
  transition: background 0.2s;
}
#music-toggle.active {
  background: #388e3c;
}
#music-toggle:hover {
  background: #357abd;
}
/* Responsive styles for map view and activity timeline */
@media (max-width: 900px) {
  html, body {
    overflow-x: hidden !important;
  }
  #decor-hr {
    width: 100vw;
    min-width: 100vw;
    left: 50%;
    transform: translateX(-50%);
  }
  #ground-bg {
    width: 100vw;
    min-width: 100vw;
  }
  #map-view-container, #timeline-view-container {
    flex-direction: column !important;
    padding: 0 !important;
    width: 100vw !important;
    box-sizing: border-box;
  }
  #map-view-container .container, #timeline-view-container .container {
    width: 100vw !important;
    max-width: 100vw !important;
    padding: 0 4vw !important;
    box-sizing: border-box;
  }
  #map {
    width: 100vw !important;
    min-width: 0 !important;
    max-width: 100vw !important;
    height: 320px !important;
    margin-bottom: 16px;
    border-radius: 0 !important;
    box-sizing: border-box;
    display: block;
  }
  #timeline-content {
    padding: 0 2vw !important;
  }
  .timeline-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }
  .section-title {
    font-size: 1.2rem !important;
  }
}

@media (max-width: 600px) {
  html, body {
    overflow-x: hidden !important;
  }
  #decor-hr {
    width: 100vw;
    min-width: 100vw;
    left: 50%;
    transform: translateX(-50%);
  }
  #ground-bg {
    width: 100vw;
    min-width: 100vw;
  }
  #map-view-container, #timeline-view-container {
    padding: 0 !important;
    width: 100vw !important;
    box-sizing: border-box;
  }
  #map {
    width: 100vw !important;
    max-width: 100vw !important;
    height: 220px !important;
    border-radius: 0 !important;
    box-sizing: border-box;
    display: block;
  }
  .section-title {
    font-size: 1rem !important;
  }
  #map-view-container .container, #timeline-view-container .container {
    width: 100vw !important;
    max-width: 100vw !important;
    padding: 0 2vw !important;
    box-sizing: border-box;
  }
}
</style>
</style>
</script>

<!-- Travel Music -->
<audio id="travel-music" loop>
  <source src="music/travel_music.mp3" type="audio/mp3">
  Your browser does not support the audio element.
</audio>
<button id="music-toggle" title="Toggle music">
  <i class="fas fa-music"></i>
</button>
<script>
// Music toggle and animated travel quotes
document.addEventListener('DOMContentLoaded', function() {
  // Music toggle
  const music = document.getElementById('travel-music');
  const btn = document.getElementById('music-toggle');
  let playing = false;
  btn.addEventListener('click', function() {
    if (!playing) {
      music.play();
      btn.classList.add('active');
      playing = true;
    } else {
      music.pause();
      btn.classList.remove('active');
      playing = false;
    }
  });
});
  
</script>
<footer id="site-footer">
  <span>&copy; 2025 Around The Globe. All rights reserved.</span>
</footer>
</body>
</html>
